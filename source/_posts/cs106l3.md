---
title: "CS106L å­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰ï¼šåˆå§‹åŒ–ä¸å¼•ç”¨"
date: 2024-11-24
categories: ["ç¼–ç¨‹"]
tags: ["C++", "CS106L", "åˆå§‹åŒ–", "å¼•ç”¨", "å·¦å€¼å³å€¼", "const"]
---

# CS106L ç¬¬ä¸‰è®²ï¼šåˆå§‹åŒ–ä¸å¼•ç”¨

> æ–¯å¦ç¦ CS106L 2025 Fall ç¬¬ä¸‰è®²æ•´ç†

---

## ğŸ”„ å¿«é€Ÿå›é¡¾

### auto å…³é”®å­—
```cpp
// å¤æ‚çš„è¿­ä»£å™¨ç±»å‹
std::map<std::string, std::vector<std::pair<int, std::unordered_map<char, double>>>>::iterator
it = complexType.begin();

// ä½¿ç”¨ auto æ›´æ¸…æ™°ï¼
auto it = complexType.begin();
```

**ä½¿ç”¨å»ºè®®**ï¼š
- åœ¨ç±»å‹ç‰¹åˆ«å†—é•¿æ—¶ä½¿ç”¨
- æ ¹æ®ä¸ªäººåˆ¤æ–­é…Œæƒ…ä½¿ç”¨

---

## ğŸ¯ æœ¬è®²å†…å®¹æ¦‚è§ˆ

1. **åˆå§‹åŒ–** - ä¸‰ç§åˆå§‹åŒ–æ–¹å¼
2. **å¼•ç”¨** - å˜é‡çš„åˆ«å
3. **å·¦å€¼ vs å³å€¼** - ç†è§£å€¼çš„ç±»åˆ«
4. **const** - ä¸å¯å˜é™å®šç¬¦
5. **ç¼–è¯‘C++ç¨‹åº** - åŸºç¡€ç¼–è¯‘å‘½ä»¤

---

## ğŸ†• åˆå§‹åŒ–ï¼ˆInitializationï¼‰

### ä»€ä¹ˆæ˜¯åˆå§‹åŒ–ï¼Ÿ
> "åœ¨æ„é€ æ—¶æä¾›åˆå§‹å€¼" - cppreference.com

### ä¸‰ç§åˆå§‹åŒ–æ–¹å¼

#### 1. ç›´æ¥åˆå§‹åŒ–ï¼ˆDirect Initializationï¼‰
```cpp
int numOne = 12.0;    // æ‹·è´åˆå§‹åŒ–
int numTwo(12.0);     // ç›´æ¥åˆå§‹åŒ–
```

**é—®é¢˜**ï¼šå…è®¸çª„åŒ–è½¬æ¢ï¼ˆNarrowing Conversionï¼‰
```cpp
int criticalTemperature(100.8);  // å®é™…å­˜å‚¨ä¸º 100ï¼
```
- C++ ä¸è¿›è¡Œä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥
- å¯èƒ½å¯¼è‡´ä¸¥é‡é”™è¯¯ï¼ˆå¦‚æ ¸ååº”å †æ¸©åº¦ç›‘æµ‹ï¼‰

#### 2. ç»Ÿä¸€åˆå§‹åŒ–ï¼ˆUniform Initializationï¼‰â­ **æ¨è**
```cpp
int numOne{12};        // âœ… æ­£ç¡®
int numTwo{12.0};      // âŒ ç¼–è¯‘é”™è¯¯ï¼šçª„åŒ–è½¬æ¢
float numThree{12.0};  // âœ… æ­£ç¡®
```

**ä¼˜åŠ¿**ï¼š
- **å®‰å…¨**ï¼šç¦æ­¢çª„åŒ–è½¬æ¢
- **é€šç”¨**ï¼šé€‚ç”¨äºæ‰€æœ‰ç±»å‹

**ç¤ºä¾‹**ï¼š
```cpp
// Map åˆå§‹åŒ–
std::map<std::string, int> ages{
    {"Alice", 25},
    {"Bob", 30},
    {"Charlie", 35}
};

// Vector åˆå§‹åŒ–
std::vector<int> numbers{1, 2, 3, 4, 5};

// ç»“æ„ä½“åˆå§‹åŒ–
StanfordID id = {"THE Stanford Tree", "theTREE", 0000002};
```

#### 3. ç»“æ„åŒ–ç»‘å®šï¼ˆStructured Bindingï¼‰- C++17
```cpp
#include <tuple>
#include <string>

std::tuple<std::string, std::string, std::string> getClassInfo() {
    return {"CS106L", "Thornton 110", "C++"};
}

int main() {
    // ä¼ ç»Ÿæ–¹å¼ï¼ˆç¹çï¼‰
    auto classInfo = getClassInfo();
    std::string className = std::get<0>(classInfo);
    std::string buildingName = std::get<1>(classInfo);
    std::string language = std::get<2>(classInfo);

    // ç»“æ„åŒ–ç»‘å®šï¼ˆç®€æ´ï¼‰
    auto [className, buildingName, language] = getClassInfo();
    
    std::cout << "Come to " << buildingName << " and join us for " 
              << className << " to learn " << language << "!" << std::endl;
    return 0;
}
```

---

## ğŸ”— å¼•ç”¨ï¼ˆReferencesï¼‰

### ä»€ä¹ˆæ˜¯å¼•ç”¨ï¼Ÿ
> "å£°æ˜ä¸€ä¸ªåç§°å˜é‡ä½œä¸ºå¼•ç”¨" - æœ¬è´¨æ˜¯å·²å­˜åœ¨äº‹ç‰©çš„åˆ«å

### åŸºæœ¬è¯­æ³•
```cpp
int num = 5;
int& ref = num;    // ref æ˜¯ num çš„åˆ«å

ref = 10;          // é€šè¿‡å¼•ç”¨èµ‹å€¼
std::cout << num;  // è¾“å‡ºï¼š10
```

### å†…å­˜å¯è§†åŒ–
```
å†…å­˜å¸ƒå±€ï¼š
[åœ°å€0] â† num (å€¼: 5 â†’ 10)
[åœ°å€1] 
[åœ°å€2] 
...
ref â‡„ num  // ref å’Œ num æŒ‡å‘åŒä¸€å†…å­˜ä½ç½®
```

### å¼•ç”¨ä¼ å‚ï¼ˆPass by Referenceï¼‰
```cpp
#include <iostream>
#include <cmath>

void squareN(int& n) {  // æ³¨æ„ & ç¬¦å·
    n = std::pow(n, 2); // ä¿®æ”¹åŸå§‹å˜é‡
}

int main() {
    int num = 5;
    squareN(num);       // num è¢«ä¿®æ”¹
    std::cout << num;   // è¾“å‡ºï¼š25
    return 0;
}
```

### å€¼ä¼ å‚ vs å¼•ç”¨ä¼ å‚

**å€¼ä¼ å‚**ï¼š
```cpp
void squareN(int n) {   // åˆ›å»ºå‰¯æœ¬
    n = std::pow(n, 2); // åªä¿®æ”¹å‰¯æœ¬
} // n ç¦»å¼€ä½œç”¨åŸŸï¼ŒåŸå§‹ num ä¸å˜
```

**å¼•ç”¨ä¼ å‚**ï¼š
```cpp
void squareN(int& n) {  // ç›´æ¥æ“ä½œåŸå˜é‡
    n = std::pow(n, 2); // ä¿®æ”¹åŸå§‹å€¼
} // num è¢«æ°¸ä¹…ä¿®æ”¹
```

### å¸¸è§é™·é˜±ï¼šç»“æ„åŒ–ç»‘å®šä¸­çš„å¼•ç”¨
```cpp
// âŒ é”™è¯¯ï¼šæ²¡æœ‰ä½¿ç”¨å¼•ç”¨ï¼Œä¿®æ”¹çš„æ˜¯å‰¯æœ¬
void shift(std::vector<std::pair<int, int>> &nums) {
    for (auto [num1, num2] : nums) {  // å‰¯æœ¬ï¼
        num1++;  // ä¸ä¿®æ”¹åŸå§‹æ•°æ®
        num2++;
    }
}

// âœ… æ­£ç¡®ï¼šä½¿ç”¨å¼•ç”¨ç»‘å®š
void shift(std::vector<std::pair<int, int>> &nums) {
    for (auto& [num1, num2] : nums) {  // å¼•ç”¨ï¼
        num1++;  // ä¿®æ”¹åŸå§‹æ•°æ®
        num2++;
    }
}

// âœ… æ›¿ä»£æ–¹æ¡ˆï¼šç›´æ¥è®¿é—®
void shift(std::vector<std::pair<int, int>> &nums) {
    for (size_t i = 0; i < nums.size(); i++) {
        nums[i].first++;
        nums[i].second++;
    }
}
```

---

## ğŸ“ å·¦å€¼ vs å³å€¼ï¼ˆL-values vs R-valuesï¼‰

### æ¦‚å¿µå¯¹æ¯”
| ç‰¹æ€§ | å·¦å€¼ (L-value) | å³å€¼ (R-value) |
|------|----------------|----------------|
| å…¨ç§° | å®šä½å€¼ (Locator Value) | è¯»å–å€¼ (Read Value) |
| ä½ç½® | ç­‰å·å·¦è¾¹æˆ–å³è¾¹ | ç­‰å·å³è¾¹ |
| å†…å­˜ | æœ‰å†…å­˜åœ°å€ | ä¸´æ—¶å€¼ï¼ˆæ— å†…å­˜åœ°å€ï¼‰ |
| ç¤ºä¾‹ | `int x = 10; int y = x;` | `int x = 10; int y = x;` |

### å¼•ç”¨ä¸å·¦å€¼çš„å…³ç³»
```cpp
void squareN(int& n) {  // åªèƒ½æ¥å—å·¦å€¼
    n = std::pow(n, 2);
}

int main() {
    int num = 5;
    squareN(num);    // âœ… num æ˜¯å·¦å€¼
    squareN(5);      // âŒ 5 æ˜¯å³å€¼ï¼Œç¼–è¯‘é”™è¯¯ï¼
    return 0;
}
```

**å…³é”®ç‚¹**ï¼š
- å¼•ç”¨åªèƒ½ç»‘å®šåˆ°å·¦å€¼
- å³å€¼æ˜¯ä¸´æ—¶å€¼ï¼Œæ²¡æœ‰æŒä¹…çš„å†…å­˜åœ°å€

---

## ğŸ”’ const é™å®šç¬¦

### åŸºæœ¬æ¦‚å¿µ
> "å£°æ˜å¯¹è±¡ä¸å¯ä¿®æ”¹çš„é™å®šç¬¦" - cppreference.com

### const ä½¿ç”¨ç¤ºä¾‹
```cpp
#include <iostream>
#include <vector>

int main() {
    std::vector<int> vec{1, 2, 3};                    // æ™®é€švector
    const std::vector<int> const_vec{1, 2, 3};        // const vector
    std::vector<int>& ref_vec{vec};                   // å¼•ç”¨
    const std::vector<int>& const_ref{vec};           // constå¼•ç”¨

    vec.push_back(3);        // âœ… æ­£å¸¸vectorå¯ä¿®æ”¹
    const_vec.push_back(3);  // âŒ const vectorä¸å¯ä¿®æ”¹
    ref_vec.push_back(3);    // âœ… å¼•ç”¨å¯ä¿®æ”¹åŸå¯¹è±¡
    const_ref.push_back(3);  // âŒ constå¼•ç”¨ä¸å¯ä¿®æ”¹

    return 0;
}
```

### const å¼•ç”¨è§„åˆ™
```cpp
// âŒ é”™è¯¯ï¼šä¸èƒ½å£°æ˜éå¸¸é‡å¼•ç”¨æŒ‡å‘constå˜é‡
const std::vector<int> const_vec{1, 2, 3};
std::vector<int>& bad_ref{const_vec};  // ç¼–è¯‘é”™è¯¯ï¼

// âœ… æ­£ç¡®ï¼šconstå¼•ç”¨æŒ‡å‘constå˜é‡
const std::vector<int> const_vec{1, 2, 3};
const std::vector<int>& good_ref{const_vec};  // æ­£ç¡®ï¼
```

---

## ğŸ› ï¸ ç¼–è¯‘C++ç¨‹åº

### åŸºç¡€ç¼–è¯‘å‘½ä»¤
```bash
# åŸºæœ¬ç¼–è¯‘
g++ main.cpp

# æŒ‡å®šC++æ ‡å‡†å’Œè¾“å‡ºæ–‡ä»¶åï¼ˆæ¨èï¼‰
g++ -std=c++23 main.cpp -o main

# è¿è¡Œç¨‹åº
./main
```

### ç¼–è¯‘å‘½ä»¤è¯¦è§£
- `g++` - GNU C++ç¼–è¯‘å™¨
- `-std=c++23` - æŒ‡å®šC++æ ‡å‡†ç‰ˆæœ¬
- `main.cpp` - æºæ–‡ä»¶
- `-o main` - æŒ‡å®šè¾“å‡ºæ–‡ä»¶å
- ä¸åŠ  `-o` å‚æ•°æ—¶ï¼Œé»˜è®¤ç”Ÿæˆ `a.out`

### ç¼–è¯‘æµç¨‹
```
æºä»£ç  â†’ ç¼–è¯‘å™¨(g++) â†’ æœºå™¨ç  â†’ å¯æ‰§è¡Œæ–‡ä»¶
std::cout...   â†’   10110101...   â†’   ./main
```

---

## ğŸ’¡ æ ¸å¿ƒè¦ç‚¹æ€»ç»“

1. **ä¼˜å…ˆä½¿ç”¨ç»Ÿä¸€åˆå§‹åŒ–** `{}` - å®‰å…¨ä¸”é€šç”¨
2. **å¼•ç”¨æ˜¯å˜é‡çš„åˆ«å** - ä½¿ç”¨ `&` å£°æ˜
3. **å¼•ç”¨åªèƒ½ç»‘å®šåˆ°å·¦å€¼** - ä¸èƒ½ç»‘å®šåˆ°ä¸´æ—¶å€¼
4. **const ç¡®ä¿ä¸å¯å˜æ€§** - æä¾›ç¼–è¯‘æœŸå®‰å…¨æ£€æŸ¥
5. **æŒæ¡åŸºç¡€ç¼–è¯‘å‘½ä»¤** - `g++ -std=c++23 file.cpp -o output`

---

## ğŸŒŸ å®é™…åº”ç”¨

è¿™äº›æ¦‚å¿µåœ¨å¤§å‹é¡¹ç›®ä¸­è¢«å¹¿æ³›åº”ç”¨ï¼š
- **TensorFlow**ï¼šæ ¸å¿ƒç”±2000+ä¸ªC++æºæ–‡ä»¶ç»„æˆ
- **é«˜é¢‘äº¤æ˜“**ï¼šOptiverã€Citadelç­‰å…¬å¸
- **æ¸¸æˆå¼€å‘**ï¼šè¿½æ±‚æè‡´æ€§èƒ½
- **ç³»ç»Ÿç¼–ç¨‹**ï¼šæ“ä½œç³»ç»Ÿã€ç¼–è¯‘å™¨

> ä¸‹ä¸€è®²æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨C++çš„æµ(Streams)æ“ä½œï¼Œäº†è§£è¾“å…¥è¾“å‡ºçš„é«˜çº§ç”¨æ³•ï¼
```

è¿™ä¸ªç¬”è®°æ¶µç›–äº†ç¬¬ä¸‰è®²çš„æ‰€æœ‰æ ¸å¿ƒæ¦‚å¿µï¼ŒåŒ…æ‹¬ï¼š
- ä¸‰ç§åˆå§‹åŒ–æ–¹å¼çš„å¯¹æ¯”å’Œæœ€ä½³å®è·µ
- å¼•ç”¨çš„åŸç†å’Œä½¿ç”¨åœºæ™¯
- å·¦å€¼å³å€¼çš„åŒºåˆ«å’Œé‡è¦æ€§
- constçš„æ­£ç¡®ç”¨æ³•
- åŸºç¡€ç¼–è¯‘å‘½ä»¤